---
import type { BaseEntry } from "@lib/craft-cms/types";
import getEntry from "@lib/craft-cms/get-entry";

interface Entry extends BaseEntry {
  title: string;
}

const { slug = "" } = Astro.params;

const entry = await getEntry<Entry>({
  query: `{
    entries (section: "exampleSingle") {
      title
      uri
    }
  }`,
  slug,
  uriPrefix: "example-single",
})

if (!entry) {
  return new Response(null, { status: 404 });
}
---

{entry.title}