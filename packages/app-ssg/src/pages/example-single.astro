---
import CraftCMSFetch from '@lib/craft-cms/fetch';
import getEntry from '@lib/craft-cms/get-entry';
import {
  type Data,
  cacheDirectory,
  query,
  uriPrefix,
} from '@config/sections/exampleSingle';

const data = await CraftCMSFetch<Data>({ cacheDirectory, query });

const entries = data?.entries;

if (entries === undefined) {
  return new Response(null, { status: 404 });
}

const entry = await getEntry<Data['entries']>({ entries, uriPrefix });

if (entry === undefined) {
  return new Response(null, { status: 404 });
}
---

{entry.title}
